<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>

<form name="uploadForm" id="uploadForm" method="post" enctype="multipart/form-data">
  맥주사진: <input type="file" name="file"/><br>
  
  <button id="uldBtn">등록</button>
</form>

<script src="../node_modules/jquery/dist/jquery.min.js"></script>
<script src="../node_modules/jquery-ui-dist/jquery-ui.min.js"></script>
<script type="text/javascript" src="../js/common.js"></script>
<script src="../node_modules/blueimp-file-upload/js/jquery.fileupload.js"></script>

<script>

$(function () {
  console.log($("#uploadForm").val())
	
})

 $("#uldBtn").on('click',function() {
  console.log($("#file").html)
        })

/* 
var uploadBtn = document.querySelector('#uldBtn')
uploadBtn.onclick = function(event) {
	$.post(serverAddr + "/beerphoto/add.json", $('#uploadForm').fileupload(), function(obj) {
	      var result = obj.jsonResult
	      
	      if (result.state != "success") {
	          alert ("등록 실패입니다.")
	          return
	        }
	      
	      console.log("성공?")

  })
}

console.log($('#uploadForm').fileupload())
 */
/* 
$(document).ready(function() {
	console.log("ready")
	console.log($('#uploadForm'))
	
    $('#uploadForm').fileupload({
        url : serverAddr + '/beerphoto/add.json', 
        dataType: 'json'
    })
   /*      //replaceFileInput: false,
        add: function(e, data){
            var uploadFile = data.files[0];
            var isValid = true;
            if (!(/png|jpe?g|gif/i).test(uploadFile.name)) {
                alert('png, jpg, gif 만 가능합니다');
                isValid = false;
            } else if (uploadFile.size > 5000000) { // 5mb
                alert('파일 용량은 5메가를 초과할 수 없습니다.');
                isValid = false;
            }
            if (isValid) {
                data.submit();              
            }
        }, progressall: function(e,data) {
            var progress = parseInt(data.loaded / data.total * 100, 10);
            $('#progress .bar').css(
                'width',
                progress + '%'
            );
        }, done: function (e, data) {
            var code = data.result.code;
            var msg = data.result.msg;
            if(code == '1') {
                alert(msg);
            } else {
                alert(code + ' : ' + msg);
            } 
        }, fail: function(e, data){
            // data.errorThrown
            // data.textStatus;
            // data.jqXHR;
            alert('서버와 통신 중 문제가 발생했습니다');
            foo = data;
        }
    }); 
})

 */


/* 
var uploadBtn = document.querySelector('#uldBtn')
uploadBtn.onclick = function(event) {
	
	console.log("click")
	
	$(function () {
		console.log("function start")
		$("#uploadForm").fileupload({
			url : serverAddr + "/beerphoto/add.json",
			dataType :'json'
		})
		console.log("function start2")
	})
	
		console.log("function end")
}
	
	/*   var form = document.forms['uploadForm']
	  var file = form.file.value
	  console.log(file)
	  ajaxLoadPhoto(file) */
	

/* 
function ajaxLoadPhoto(file) {
	$.post(serverAddr + "/beerphoto/add.json", file, function(obj) {
	    var result = obj.jsonResult
	    
	    if (result.state != "success") {
	        alert ("등록 실패입니다.")
	        return
	      }
	    
	    console.log("성공?")
	    
	  })
}
 */



</script>

</body>
</html>